{"ast":null,"code":"var _jsxFileName = \"C:\\\\repos\\\\Emergent-Video-Splitter-V2\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\n// Use external URL since we removed the proxy\nconst API = `${BACKEND_URL}/api`;\nfunction App() {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [jobId, setJobId] = useState(null);\n  const [videoInfo, setVideoInfo] = useState(null);\n  const [splitConfig, setSplitConfig] = useState({\n    method: 'time_based',\n    time_points: [],\n    interval_duration: 300,\n    // 5 minutes\n    preserve_quality: true,\n    output_format: 'mp4',\n    subtitle_sync_offset: 0,\n    force_keyframes: true,\n    // Enable keyframes by default\n    keyframe_interval: 2.0 // Keyframe every 2 seconds\n  });\n  const [processing, setProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [splits, setSplits] = useState([]);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [manualTimeInput, setManualTimeInput] = useState('');\n  const videoRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  // Clear any stale state on component mount\n  useEffect(() => {\n    setJobId(null);\n    setVideoInfo(null);\n    setSplits([]);\n    setProgress(0);\n    setSelectedFile(null);\n  }, []); // Run once on mount\n\n  // Set video source when jobId changes (only for real uploads)\n  useEffect(() => {\n    if (jobId && !jobId.includes('mock')) {\n      // Use a timeout to ensure video element is rendered when preview section appears\n      const setVideoSource = () => {\n        if (videoRef.current) {\n          const timestamp = Date.now();\n          const videoUrl = `${API}/video-stream/${jobId}?t=${timestamp}`;\n          console.log('useEffect: Setting video src to:', videoUrl);\n          videoRef.current.src = videoUrl;\n          videoRef.current.load();\n\n          // Test the URL\n          fetch(videoUrl, {\n            method: 'HEAD'\n          }).then(response => {\n            console.log('useEffect: Video URL test response:', response.status, response.headers.get('content-type'));\n          }).catch(error => {\n            console.error('useEffect: Video URL test failed:', error);\n          });\n        } else {\n          // Retry after a short delay if video element not ready\n          setTimeout(setVideoSource, 100);\n        }\n      };\n      setVideoSource();\n    }\n  }, [jobId, API]); // Run when jobId changes\n\n  // Format file size for display\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n  };\n\n  // Format time for display\n  const formatTime = seconds => {\n    const hrs = Math.floor(seconds / 3600);\n    const mins = Math.floor(seconds % 3600 / 60);\n    const secs = Math.floor(seconds % 60);\n    if (hrs > 0) {\n      return `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n    }\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Parse time input (MM:SS or HH:MM:SS)\n  const parseTime = timeStr => {\n    const parts = timeStr.split(':').map(p => parseInt(p));\n    if (parts.length === 2) {\n      return parts[0] * 60 + parts[1]; // MM:SS\n    } else if (parts.length === 3) {\n      return parts[0] * 3600 + parts[1] * 60 + parts[2]; // HH:MM:SS\n    }\n    return 0;\n  };\n\n  // Handle file selection\n  const handleFileSelect = event => {\n    const file = event.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      setJobId(null);\n      setVideoInfo(null);\n      setSplits([]);\n      setProgress(0);\n      setSplitConfig({\n        ...splitConfig,\n        time_points: []\n      }); // Reset split points\n\n      // Reset video player\n      if (videoRef.current) {\n        videoRef.current.src = '';\n        videoRef.current.load();\n      }\n    }\n  };\n\n  // Upload video\n  const uploadVideo = async () => {\n    if (!selectedFile) return;\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n    try {\n      setUploadProgress(0);\n      const response = await axios.post(`${API}/upload-video`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        },\n        onUploadProgress: progressEvent => {\n          const percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          setUploadProgress(percentCompleted);\n        }\n      });\n      setJobId(response.data.job_id);\n      setVideoInfo(response.data.video_info);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Upload failed:', error);\n      alert('Upload failed: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message));\n    }\n  };\n\n  // Add split point\n  const addSplitPoint = (time = null) => {\n    const splitTime = time !== null ? time : currentTime;\n    if (splitConfig.method === 'time_based') {\n      const newPoints = [...splitConfig.time_points, splitTime].sort((a, b) => a - b);\n      setSplitConfig({\n        ...splitConfig,\n        time_points: newPoints\n      });\n    }\n  };\n\n  // Add manual time point\n  const addManualTime = () => {\n    if (manualTimeInput) {\n      const time = parseTime(manualTimeInput);\n      if (time > 0 && videoInfo && time < videoInfo.duration) {\n        addSplitPoint(time);\n        setManualTimeInput('');\n      } else {\n        alert('Invalid time format or time exceeds video duration');\n      }\n    }\n  };\n\n  // Remove split point\n  const removeSplitPoint = index => {\n    const newPoints = splitConfig.time_points.filter((_, i) => i !== index);\n    setSplitConfig({\n      ...splitConfig,\n      time_points: newPoints\n    });\n  };\n\n  // Generate splits from chapters\n  const useChapterSplits = () => {\n    if (videoInfo && videoInfo.chapters && videoInfo.chapters.length > 0) {\n      setSplitConfig({\n        ...splitConfig,\n        method: 'chapters'\n      });\n    } else {\n      alert('No chapters found in this video');\n    }\n  };\n\n  // Start splitting\n  const startSplitting = async () => {\n    if (!jobId) return;\n    try {\n      setProcessing(true);\n      setProgress(0);\n      await axios.post(`${API}/split-video/${jobId}`, splitConfig);\n\n      // Poll for progress\n      const pollProgress = setInterval(async () => {\n        try {\n          const response = await axios.get(`${API}/job-status/${jobId}`);\n          const job = response.data;\n          setProgress(job.progress);\n          if (job.status === 'completed') {\n            setSplits(job.splits);\n            setProcessing(false);\n            clearInterval(pollProgress);\n          } else if (job.status === 'failed') {\n            alert('Processing failed: ' + job.error_message);\n            setProcessing(false);\n            clearInterval(pollProgress);\n          }\n        } catch (error) {\n          console.error('Progress poll error:', error);\n        }\n      }, 2000);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Split failed:', error);\n      alert('Split failed: ' + (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || error.message));\n      setProcessing(false);\n    }\n  };\n\n  // Download split file\n  const downloadSplit = filename => {\n    const downloadUrl = `${API}/download/${jobId}/${filename}`;\n    const link = document.createElement('a');\n    link.href = downloadUrl;\n    link.download = filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Update current time from video\n  const handleTimeUpdate = () => {\n    if (videoRef.current) {\n      setCurrentTime(videoRef.current.currentTime);\n    }\n  };\n\n  // Handle video load errors\n  const handleVideoError = e => {\n    var _e$target$error, _e$target$error2;\n    console.error('Video error:', e);\n    console.error('Video error details:', {\n      error: e.target.error,\n      code: (_e$target$error = e.target.error) === null || _e$target$error === void 0 ? void 0 : _e$target$error.code,\n      message: (_e$target$error2 = e.target.error) === null || _e$target$error2 === void 0 ? void 0 : _e$target$error2.message,\n      src: e.target.src,\n      networkState: e.target.networkState,\n      readyState: e.target.readyState\n    });\n  };\n\n  // Handle video load success\n  const handleVideoLoad = () => {\n    var _videoRef$current, _videoRef$current2, _videoRef$current3, _videoRef$current4, _videoRef$current5;\n    console.log('Video loaded successfully');\n    console.log('Video details:', {\n      src: (_videoRef$current = videoRef.current) === null || _videoRef$current === void 0 ? void 0 : _videoRef$current.src,\n      duration: (_videoRef$current2 = videoRef.current) === null || _videoRef$current2 === void 0 ? void 0 : _videoRef$current2.duration,\n      videoWidth: (_videoRef$current3 = videoRef.current) === null || _videoRef$current3 === void 0 ? void 0 : _videoRef$current3.videoWidth,\n      videoHeight: (_videoRef$current4 = videoRef.current) === null || _videoRef$current4 === void 0 ? void 0 : _videoRef$current4.videoHeight,\n      readyState: (_videoRef$current5 = videoRef.current) === null || _videoRef$current5 === void 0 ? void 0 : _videoRef$current5.readyState\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto px-4 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-5xl font-bold text-white mb-4\",\n          children: \"Video Splitter Pro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl text-purple-200\",\n          children: \"Split videos of any size while preserving subtitles and quality\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-8 mb-8 border border-white/20\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-white mb-6\",\n          children: \"Upload Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: fileInputRef,\n          type: \"file\",\n          accept: \"video/*,.mkv,.mp4,.avi,.mov,.wmv,.flv,.webm\",\n          onChange: handleFileSelect,\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              var _fileInputRef$current;\n              return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n            },\n            className: \"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105\",\n            children: selectedFile ? `Selected: ${selectedFile.name}` : 'Choose Video File'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), selectedFile && !jobId && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: uploadVideo,\n            className: \"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300\",\n            children: \"Upload Video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this), uploadProgress > 0 && uploadProgress < 100 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full bg-gray-700 rounded-full h-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-r from-green-500 to-emerald-500 h-3 rounded-full transition-all duration-300\",\n              style: {\n                width: `${uploadProgress}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), (videoInfo || jobId) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-8 mb-8 border border-white/20\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-white mb-6\",\n          children: \"Video Preview\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid lg:grid-cols-2 gap-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"video\", {\n              ref: videoRef,\n              controls: true,\n              onTimeUpdate: handleTimeUpdate,\n              onError: handleVideoError,\n              onLoadedData: handleVideoLoad,\n              className: \"w-full rounded-xl shadow-2xl\",\n              preload: \"metadata\",\n              crossOrigin: \"anonymous\",\n              children: \"Your browser does not support the video tag.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 text-white\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Current Time:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 22\n                }, this), \" \", formatTime(currentTime)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this), videoInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold\",\n              children: \"Video Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-black/30 rounded-lg p-4 space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Duration:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 24\n                }, this), \" \", formatTime(videoInfo.duration)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Format:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 24\n                }, this), \" \", videoInfo.format]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Size:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 24\n                }, this), \" \", formatFileSize(videoInfo.size)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Video Streams:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 24\n                }, this), \" \", videoInfo.video_streams.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Audio Streams:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 24\n                }, this), \" \", videoInfo.audio_streams.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Subtitle Streams:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 24\n                }, this), \" \", videoInfo.subtitle_streams.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 21\n              }, this), videoInfo.chapters.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Chapters:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 26\n                }, this), \" \", videoInfo.chapters.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 19\n            }, this), videoInfo.chapters.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-bold mb-2\",\n                children: \"Chapters:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-black/30 rounded-lg p-4 max-h-32 overflow-y-auto\",\n                children: videoInfo.chapters.map((chapter, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm py-1\",\n                  children: [formatTime(chapter.start), \" - \", chapter.title]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }, this), videoInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-8 mb-8 border border-white/20\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-white mb-6\",\n          children: \"Split Configuration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid lg:grid-cols-2 gap-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-white font-bold mb-3\",\n                children: \"Split Method\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: splitConfig.method,\n                onChange: e => setSplitConfig({\n                  ...splitConfig,\n                  method: e.target.value\n                }),\n                className: \"w-full bg-black/30 text-white rounded-lg p-3 border border-white/20\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"time_based\",\n                  children: \"Time-based (Manual Points)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"intervals\",\n                  children: \"Equal Intervals\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"chapters\",\n                  children: \"Chapter-based\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this), splitConfig.method === 'time_based' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => addSplitPoint(),\n                  className: \"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\",\n                  children: [\"Add Current Time (\", formatTime(currentTime), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"MM:SS or HH:MM:SS\",\n                  value: manualTimeInput,\n                  onChange: e => setManualTimeInput(e.target.value),\n                  className: \"flex-1 bg-black/30 text-white rounded-lg p-2 border border-white/20\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: addManualTime,\n                  className: \"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors\",\n                  children: \"Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"text-white font-bold mb-2\",\n                  children: \"Split Points:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2 max-h-32 overflow-y-auto\",\n                  children: splitConfig.time_points.map((time, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-center bg-black/30 rounded p-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-white\",\n                      children: formatTime(time)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 432,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => removeSplitPoint(index),\n                      className: \"text-red-400 hover:text-red-300\",\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 29\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 19\n            }, this), splitConfig.method === 'intervals' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-white font-bold mb-2\",\n                children: \"Interval Duration (seconds)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: splitConfig.interval_duration,\n                onChange: e => setSplitConfig({\n                  ...splitConfig,\n                  interval_duration: parseFloat(e.target.value)\n                }),\n                className: \"w-full bg-black/30 text-white rounded-lg p-3 border border-white/20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 19\n            }, this), splitConfig.method === 'chapters' && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: videoInfo.chapters.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-green-400\",\n                children: [\"\\u2713 \", videoInfo.chapters.length, \" chapters detected\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-400\",\n                children: \"No chapters found in this video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-white font-bold mb-3\",\n                children: \"Quality Settings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: splitConfig.preserve_quality,\n                    onChange: e => setSplitConfig({\n                      ...splitConfig,\n                      preserve_quality: e.target.checked\n                    }),\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-white\",\n                    children: \"Preserve original quality\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-white mb-2\",\n                    children: \"Output Format\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: splitConfig.output_format,\n                    onChange: e => setSplitConfig({\n                      ...splitConfig,\n                      output_format: e.target.value\n                    }),\n                    className: \"w-full bg-black/30 text-white rounded-lg p-2 border border-white/20\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"mp4\",\n                      children: \"MP4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 493,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"mkv\",\n                      children: \"MKV\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 494,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"avi\",\n                      children: \"AVI\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 495,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-white font-bold mb-3\",\n                children: \"Subtitle Settings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-white mb-2\",\n                  children: \"Sync Offset (seconds)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  step: \"0.1\",\n                  value: splitConfig.subtitle_sync_offset,\n                  onChange: e => setSplitConfig({\n                    ...splitConfig,\n                    subtitle_sync_offset: parseFloat(e.target.value)\n                  }),\n                  className: \"w-full bg-black/30 text-white rounded-lg p-2 border border-white/20\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-white font-bold mb-3\",\n                children: \"Keyframe Settings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: splitConfig.force_keyframes,\n                    onChange: e => setSplitConfig({\n                      ...splitConfig,\n                      force_keyframes: e.target.checked\n                    }),\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-white\",\n                    children: \"Force keyframes at split points (recommended)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 21\n                }, this), splitConfig.force_keyframes && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-white mb-2\",\n                    children: \"Keyframe Interval (seconds)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 532,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    step: \"0.5\",\n                    min: \"1\",\n                    max: \"10\",\n                    value: splitConfig.keyframe_interval,\n                    onChange: e => setSplitConfig({\n                      ...splitConfig,\n                      keyframe_interval: parseFloat(e.target.value)\n                    }),\n                    className: \"w-full bg-black/30 text-white rounded-lg p-2 border border-white/20\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 533,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-300 mt-1\",\n                    children: \"Smaller intervals = more keyframes = better seeking but larger files\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 542,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: startSplitting,\n              disabled: processing || splitConfig.method === 'time_based' && splitConfig.time_points.length === 0,\n              className: \"w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 disabled:from-gray-600 disabled:to-gray-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 disabled:cursor-not-allowed\",\n              children: processing ? 'Processing...' : 'Start Splitting'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 11\n      }, this), processing && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-8 mb-8 border border-white/20\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-white mb-6\",\n          children: \"Processing Progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-700 rounded-full h-4 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-orange-500 to-red-500 h-4 rounded-full transition-all duration-300\",\n            style: {\n              width: `${progress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-white text-center\",\n          children: [progress.toFixed(1), \"% Complete\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 565,\n        columnNumber: 11\n      }, this), splits.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-white mb-6\",\n          children: \"Split Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid gap-4\",\n          children: splits.map((split, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center bg-black/30 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-white font-medium\",\n              children: [\"Part \", index + 1, \": \", split.file]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => downloadSplit(split.file),\n              className: \"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors\",\n              children: \"Download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 268,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"CstJe/Fvd8TkGZQvE3kdIlRYxWk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsxDEV","_jsxDEV","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","App","_s","selectedFile","setSelectedFile","uploadProgress","setUploadProgress","jobId","setJobId","videoInfo","setVideoInfo","splitConfig","setSplitConfig","method","time_points","interval_duration","preserve_quality","output_format","subtitle_sync_offset","force_keyframes","keyframe_interval","processing","setProcessing","progress","setProgress","splits","setSplits","currentTime","setCurrentTime","manualTimeInput","setManualTimeInput","videoRef","fileInputRef","includes","setVideoSource","current","timestamp","Date","now","videoUrl","console","log","src","load","fetch","then","response","status","headers","get","catch","error","setTimeout","formatFileSize","bytes","k","sizes","i","Math","floor","parseFloat","pow","toFixed","formatTime","seconds","hrs","mins","secs","toString","padStart","parseTime","timeStr","parts","split","map","p","parseInt","length","handleFileSelect","event","file","target","files","uploadVideo","formData","FormData","append","post","onUploadProgress","progressEvent","percentCompleted","round","loaded","total","data","job_id","video_info","_error$response","_error$response$data","alert","detail","message","addSplitPoint","time","splitTime","newPoints","sort","a","b","addManualTime","duration","removeSplitPoint","index","filter","_","useChapterSplits","chapters","startSplitting","pollProgress","setInterval","job","clearInterval","error_message","_error$response2","_error$response2$data","downloadSplit","filename","downloadUrl","link","document","createElement","href","download","body","appendChild","click","removeChild","handleTimeUpdate","handleVideoError","e","_e$target$error","_e$target$error2","code","networkState","readyState","handleVideoLoad","_videoRef$current","_videoRef$current2","_videoRef$current3","_videoRef$current4","_videoRef$current5","videoWidth","videoHeight","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","type","accept","onChange","onClick","_fileInputRef$current","name","style","width","controls","onTimeUpdate","onError","onLoadedData","preload","crossOrigin","format","size","video_streams","audio_streams","subtitle_streams","chapter","start","title","value","placeholder","checked","step","min","max","disabled","_c","$RefreshReg$"],"sources":["C:/repos/Emergent-Video-Splitter-V2/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport './App.css';\r\nimport axios from 'axios';\r\n\r\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\r\n// Use external URL since we removed the proxy\r\nconst API = `${BACKEND_URL}/api`;\r\n\r\nfunction App() {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [jobId, setJobId] = useState(null);\r\n  const [videoInfo, setVideoInfo] = useState(null);\r\n  const [splitConfig, setSplitConfig] = useState({\r\n    method: 'time_based',\r\n    time_points: [],\r\n    interval_duration: 300, // 5 minutes\r\n    preserve_quality: true,\r\n    output_format: 'mp4',\r\n    subtitle_sync_offset: 0,\r\n    force_keyframes: true,      // Enable keyframes by default\r\n    keyframe_interval: 2.0      // Keyframe every 2 seconds\r\n  });\r\n  const [processing, setProcessing] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [splits, setSplits] = useState([]);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [manualTimeInput, setManualTimeInput] = useState('');\r\n  \r\n  const videoRef = useRef(null);\r\n  const fileInputRef = useRef(null);\r\n\r\n  // Clear any stale state on component mount\r\n  useEffect(() => {\r\n    setJobId(null);\r\n    setVideoInfo(null);\r\n    setSplits([]);\r\n    setProgress(0);\r\n    setSelectedFile(null);\r\n  }, []); // Run once on mount\r\n\r\n  // Set video source when jobId changes (only for real uploads)\r\n  useEffect(() => {\r\n    if (jobId && !jobId.includes('mock')) {\r\n      // Use a timeout to ensure video element is rendered when preview section appears\r\n      const setVideoSource = () => {\r\n        if (videoRef.current) {\r\n          const timestamp = Date.now();\r\n          const videoUrl = `${API}/video-stream/${jobId}?t=${timestamp}`;\r\n          console.log('useEffect: Setting video src to:', videoUrl);\r\n          videoRef.current.src = videoUrl;\r\n          videoRef.current.load();\r\n          \r\n          // Test the URL\r\n          fetch(videoUrl, { method: 'HEAD' })\r\n            .then(response => {\r\n              console.log('useEffect: Video URL test response:', response.status, response.headers.get('content-type'));\r\n            })\r\n            .catch(error => {\r\n              console.error('useEffect: Video URL test failed:', error);\r\n            });\r\n        } else {\r\n          // Retry after a short delay if video element not ready\r\n          setTimeout(setVideoSource, 100);\r\n        }\r\n      };\r\n      \r\n      setVideoSource();\r\n    }\r\n  }, [jobId, API]); // Run when jobId changes\r\n\r\n  // Format file size for display\r\n  const formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\r\n  };\r\n\r\n  // Format time for display\r\n  const formatTime = (seconds) => {\r\n    const hrs = Math.floor(seconds / 3600);\r\n    const mins = Math.floor((seconds % 3600) / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    if (hrs > 0) {\r\n      return `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n    }\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  // Parse time input (MM:SS or HH:MM:SS)\r\n  const parseTime = (timeStr) => {\r\n    const parts = timeStr.split(':').map(p => parseInt(p));\r\n    if (parts.length === 2) {\r\n      return parts[0] * 60 + parts[1]; // MM:SS\r\n    } else if (parts.length === 3) {\r\n      return parts[0] * 3600 + parts[1] * 60 + parts[2]; // HH:MM:SS\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  // Handle file selection\r\n  const handleFileSelect = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      setSelectedFile(file);\r\n      setJobId(null);\r\n      setVideoInfo(null);\r\n      setSplits([]);\r\n      setProgress(0);\r\n      setSplitConfig({...splitConfig, time_points: []}); // Reset split points\r\n      \r\n      // Reset video player\r\n      if (videoRef.current) {\r\n        videoRef.current.src = '';\r\n        videoRef.current.load();\r\n      }\r\n    }\r\n  };\r\n\r\n  // Upload video\r\n  const uploadVideo = async () => {\r\n    if (!selectedFile) return;\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', selectedFile);\r\n\r\n    try {\r\n      setUploadProgress(0);\r\n      const response = await axios.post(`${API}/upload-video`, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n        onUploadProgress: (progressEvent) => {\r\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          setUploadProgress(percentCompleted);\r\n        }\r\n      });\r\n\r\n      setJobId(response.data.job_id);\r\n      setVideoInfo(response.data.video_info);\r\n      \r\n    } catch (error) {\r\n      console.error('Upload failed:', error);\r\n      alert('Upload failed: ' + (error.response?.data?.detail || error.message));\r\n    }\r\n  };\r\n\r\n  // Add split point\r\n  const addSplitPoint = (time = null) => {\r\n    const splitTime = time !== null ? time : currentTime;\r\n    if (splitConfig.method === 'time_based') {\r\n      const newPoints = [...splitConfig.time_points, splitTime].sort((a, b) => a - b);\r\n      setSplitConfig({...splitConfig, time_points: newPoints});\r\n    }\r\n  };\r\n\r\n  // Add manual time point\r\n  const addManualTime = () => {\r\n    if (manualTimeInput) {\r\n      const time = parseTime(manualTimeInput);\r\n      if (time > 0 && videoInfo && time < videoInfo.duration) {\r\n        addSplitPoint(time);\r\n        setManualTimeInput('');\r\n      } else {\r\n        alert('Invalid time format or time exceeds video duration');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Remove split point\r\n  const removeSplitPoint = (index) => {\r\n    const newPoints = splitConfig.time_points.filter((_, i) => i !== index);\r\n    setSplitConfig({...splitConfig, time_points: newPoints});\r\n  };\r\n\r\n  // Generate splits from chapters\r\n  const useChapterSplits = () => {\r\n    if (videoInfo && videoInfo.chapters && videoInfo.chapters.length > 0) {\r\n      setSplitConfig({...splitConfig, method: 'chapters'});\r\n    } else {\r\n      alert('No chapters found in this video');\r\n    }\r\n  };\r\n\r\n  // Start splitting\r\n  const startSplitting = async () => {\r\n    if (!jobId) return;\r\n\r\n    try {\r\n      setProcessing(true);\r\n      setProgress(0);\r\n      \r\n      await axios.post(`${API}/split-video/${jobId}`, splitConfig);\r\n      \r\n      // Poll for progress\r\n      const pollProgress = setInterval(async () => {\r\n        try {\r\n          const response = await axios.get(`${API}/job-status/${jobId}`);\r\n          const job = response.data;\r\n          \r\n          setProgress(job.progress);\r\n          \r\n          if (job.status === 'completed') {\r\n            setSplits(job.splits);\r\n            setProcessing(false);\r\n            clearInterval(pollProgress);\r\n          } else if (job.status === 'failed') {\r\n            alert('Processing failed: ' + job.error_message);\r\n            setProcessing(false);\r\n            clearInterval(pollProgress);\r\n          }\r\n        } catch (error) {\r\n          console.error('Progress poll error:', error);\r\n        }\r\n      }, 2000);\r\n      \r\n    } catch (error) {\r\n      console.error('Split failed:', error);\r\n      alert('Split failed: ' + (error.response?.data?.detail || error.message));\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  // Download split file\r\n  const downloadSplit = (filename) => {\r\n    const downloadUrl = `${API}/download/${jobId}/${filename}`;\r\n    const link = document.createElement('a');\r\n    link.href = downloadUrl;\r\n    link.download = filename;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  // Update current time from video\r\n  const handleTimeUpdate = () => {\r\n    if (videoRef.current) {\r\n      setCurrentTime(videoRef.current.currentTime);\r\n    }\r\n  };\r\n\r\n  // Handle video load errors\r\n  const handleVideoError = (e) => {\r\n    console.error('Video error:', e);\r\n    console.error('Video error details:', {\r\n      error: e.target.error,\r\n      code: e.target.error?.code,\r\n      message: e.target.error?.message,\r\n      src: e.target.src,\r\n      networkState: e.target.networkState,\r\n      readyState: e.target.readyState\r\n    });\r\n  };\r\n\r\n  // Handle video load success\r\n  const handleVideoLoad = () => {\r\n    console.log('Video loaded successfully');\r\n    console.log('Video details:', {\r\n      src: videoRef.current?.src,\r\n      duration: videoRef.current?.duration,\r\n      videoWidth: videoRef.current?.videoWidth,\r\n      videoHeight: videoRef.current?.videoHeight,\r\n      readyState: videoRef.current?.readyState\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-12\">\r\n          <h1 className=\"text-5xl font-bold text-white mb-4\">\r\n            Video Splitter Pro\r\n          </h1>\r\n          <p className=\"text-xl text-purple-200\">\r\n            Split videos of any size while preserving subtitles and quality\r\n          </p>\r\n        </div>\r\n\r\n        {/* Upload Section */}\r\n        <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-8 mb-8 border border-white/20\">\r\n          <h2 className=\"text-2xl font-bold text-white mb-6\">Upload Video</h2>\r\n          \r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            accept=\"video/*,.mkv,.mp4,.avi,.mov,.wmv,.flv,.webm\"\r\n            onChange={handleFileSelect}\r\n            className=\"hidden\"\r\n          />\r\n          \r\n          <div className=\"space-y-4\">\r\n            <button\r\n              onClick={() => fileInputRef.current?.click()}\r\n              className=\"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold py-4 px-8 rounded-xl transition-all duration-300 transform hover:scale-105\"\r\n            >\r\n              {selectedFile ? `Selected: ${selectedFile.name}` : 'Choose Video File'}\r\n            </button>\r\n            \r\n            {selectedFile && !jobId && (\r\n              <button\r\n                onClick={uploadVideo}\r\n                className=\"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300\"\r\n              >\r\n                Upload Video\r\n              </button>\r\n            )}\r\n            \r\n            {uploadProgress > 0 && uploadProgress < 100 && (\r\n              <div className=\"w-full bg-gray-700 rounded-full h-3\">\r\n                <div \r\n                  className=\"bg-gradient-to-r from-green-500 to-emerald-500 h-3 rounded-full transition-all duration-300\"\r\n                  style={{width: `${uploadProgress}%`}}\r\n                ></div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Video Preview */}\r\n        {(videoInfo || jobId) && (\r\n          <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-8 mb-8 border border-white/20\">\r\n            <h2 className=\"text-2xl font-bold text-white mb-6\">Video Preview</h2>\r\n            \r\n            <div className=\"grid lg:grid-cols-2 gap-8\">\r\n              <div>\r\n                <video\r\n                  ref={videoRef}\r\n                  controls\r\n                  onTimeUpdate={handleTimeUpdate}\r\n                  onError={handleVideoError}\r\n                  onLoadedData={handleVideoLoad}\r\n                  className=\"w-full rounded-xl shadow-2xl\"\r\n                  preload=\"metadata\"\r\n                  crossOrigin=\"anonymous\"\r\n                >\r\n                  Your browser does not support the video tag.\r\n                </video>\r\n                \r\n                <div className=\"mt-4 text-white\">\r\n                  <p><strong>Current Time:</strong> {formatTime(currentTime)}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              {videoInfo && (\r\n                <div className=\"text-white space-y-4\">\r\n                  <h3 className=\"text-xl font-bold\">Video Information</h3>\r\n                  <div className=\"bg-black/30 rounded-lg p-4 space-y-2\">\r\n                    <p><strong>Duration:</strong> {formatTime(videoInfo.duration)}</p>\r\n                    <p><strong>Format:</strong> {videoInfo.format}</p>\r\n                    <p><strong>Size:</strong> {formatFileSize(videoInfo.size)}</p>\r\n                    <p><strong>Video Streams:</strong> {videoInfo.video_streams.length}</p>\r\n                    <p><strong>Audio Streams:</strong> {videoInfo.audio_streams.length}</p>\r\n                    <p><strong>Subtitle Streams:</strong> {videoInfo.subtitle_streams.length}</p>\r\n                    {videoInfo.chapters.length > 0 && (\r\n                      <p><strong>Chapters:</strong> {videoInfo.chapters.length}</p>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  {videoInfo.chapters.length > 0 && (\r\n                    <div>\r\n                      <h4 className=\"font-bold mb-2\">Chapters:</h4>\r\n                      <div className=\"bg-black/30 rounded-lg p-4 max-h-32 overflow-y-auto\">\r\n                        {videoInfo.chapters.map((chapter, index) => (\r\n                          <div key={index} className=\"text-sm py-1\">\r\n                            {formatTime(chapter.start)} - {chapter.title}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Split Configuration */}\r\n        {videoInfo && (\r\n          <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-8 mb-8 border border-white/20\">\r\n            <h2 className=\"text-2xl font-bold text-white mb-6\">Split Configuration</h2>\r\n            \r\n            <div className=\"grid lg:grid-cols-2 gap-8\">\r\n              <div className=\"space-y-6\">\r\n                {/* Split Method */}\r\n                <div>\r\n                  <label className=\"block text-white font-bold mb-3\">Split Method</label>\r\n                  <select\r\n                    value={splitConfig.method}\r\n                    onChange={(e) => setSplitConfig({...splitConfig, method: e.target.value})}\r\n                    className=\"w-full bg-black/30 text-white rounded-lg p-3 border border-white/20\"\r\n                  >\r\n                    <option value=\"time_based\">Time-based (Manual Points)</option>\r\n                    <option value=\"intervals\">Equal Intervals</option>\r\n                    <option value=\"chapters\">Chapter-based</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Time-based Configuration */}\r\n                {splitConfig.method === 'time_based' && (\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"flex gap-2\">\r\n                      <button\r\n                        onClick={() => addSplitPoint()}\r\n                        className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors\"\r\n                      >\r\n                        Add Current Time ({formatTime(currentTime)})\r\n                      </button>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex gap-2\">\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"MM:SS or HH:MM:SS\"\r\n                        value={manualTimeInput}\r\n                        onChange={(e) => setManualTimeInput(e.target.value)}\r\n                        className=\"flex-1 bg-black/30 text-white rounded-lg p-2 border border-white/20\"\r\n                      />\r\n                      <button\r\n                        onClick={addManualTime}\r\n                        className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors\"\r\n                      >\r\n                        Add\r\n                      </button>\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <h4 className=\"text-white font-bold mb-2\">Split Points:</h4>\r\n                      <div className=\"space-y-2 max-h-32 overflow-y-auto\">\r\n                        {splitConfig.time_points.map((time, index) => (\r\n                          <div key={index} className=\"flex justify-between items-center bg-black/30 rounded p-2\">\r\n                            <span className=\"text-white\">{formatTime(time)}</span>\r\n                            <button\r\n                              onClick={() => removeSplitPoint(index)}\r\n                              className=\"text-red-400 hover:text-red-300\"\r\n                            >\r\n                              Remove\r\n                            </button>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Interval Configuration */}\r\n                {splitConfig.method === 'intervals' && (\r\n                  <div>\r\n                    <label className=\"block text-white font-bold mb-2\">Interval Duration (seconds)</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={splitConfig.interval_duration}\r\n                      onChange={(e) => setSplitConfig({...splitConfig, interval_duration: parseFloat(e.target.value)})}\r\n                      className=\"w-full bg-black/30 text-white rounded-lg p-3 border border-white/20\"\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {/* Chapter Configuration */}\r\n                {splitConfig.method === 'chapters' && (\r\n                  <div>\r\n                    {videoInfo.chapters.length > 0 ? (\r\n                      <p className=\"text-green-400\"> {videoInfo.chapters.length} chapters detected</p>\r\n                    ) : (\r\n                      <p className=\"text-red-400\">No chapters found in this video</p>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"space-y-6\">\r\n                {/* Quality Settings */}\r\n                <div>\r\n                  <label className=\"block text-white font-bold mb-3\">Quality Settings</label>\r\n                  <div className=\"space-y-3\">\r\n                    <label className=\"flex items-center\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={splitConfig.preserve_quality}\r\n                        onChange={(e) => setSplitConfig({...splitConfig, preserve_quality: e.target.checked})}\r\n                        className=\"mr-2\"\r\n                      />\r\n                      <span className=\"text-white\">Preserve original quality</span>\r\n                    </label>\r\n                    \r\n                    <div>\r\n                      <label className=\"block text-white mb-2\">Output Format</label>\r\n                      <select\r\n                        value={splitConfig.output_format}\r\n                        onChange={(e) => setSplitConfig({...splitConfig, output_format: e.target.value})}\r\n                        className=\"w-full bg-black/30 text-white rounded-lg p-2 border border-white/20\"\r\n                      >\r\n                        <option value=\"mp4\">MP4</option>\r\n                        <option value=\"mkv\">MKV</option>\r\n                        <option value=\"avi\">AVI</option>\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Subtitle Settings */}\r\n                <div>\r\n                  <label className=\"block text-white font-bold mb-3\">Subtitle Settings</label>\r\n                  <div>\r\n                    <label className=\"block text-white mb-2\">Sync Offset (seconds)</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      step=\"0.1\"\r\n                      value={splitConfig.subtitle_sync_offset}\r\n                      onChange={(e) => setSplitConfig({...splitConfig, subtitle_sync_offset: parseFloat(e.target.value)})}\r\n                      className=\"w-full bg-black/30 text-white rounded-lg p-2 border border-white/20\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Keyframe Settings */}\r\n                <div>\r\n                  <label className=\"block text-white font-bold mb-3\">Keyframe Settings</label>\r\n                  <div className=\"space-y-3\">\r\n                    <label className=\"flex items-center\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={splitConfig.force_keyframes}\r\n                        onChange={(e) => setSplitConfig({...splitConfig, force_keyframes: e.target.checked})}\r\n                        className=\"mr-2\"\r\n                      />\r\n                      <span className=\"text-white\">Force keyframes at split points (recommended)</span>\r\n                    </label>\r\n                    \r\n                    {splitConfig.force_keyframes && (\r\n                      <div>\r\n                        <label className=\"block text-white mb-2\">Keyframe Interval (seconds)</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          step=\"0.5\"\r\n                          min=\"1\"\r\n                          max=\"10\"\r\n                          value={splitConfig.keyframe_interval}\r\n                          onChange={(e) => setSplitConfig({...splitConfig, keyframe_interval: parseFloat(e.target.value)})}\r\n                          className=\"w-full bg-black/30 text-white rounded-lg p-2 border border-white/20\"\r\n                        />\r\n                        <p className=\"text-sm text-gray-300 mt-1\">\r\n                          Smaller intervals = more keyframes = better seeking but larger files\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Start Processing */}\r\n                <button\r\n                  onClick={startSplitting}\r\n                  disabled={processing || (splitConfig.method === 'time_based' && splitConfig.time_points.length === 0)}\r\n                  className=\"w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 disabled:from-gray-600 disabled:to-gray-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 disabled:cursor-not-allowed\"\r\n                >\r\n                  {processing ? 'Processing...' : 'Start Splitting'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Processing Progress */}\r\n        {processing && (\r\n          <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-8 mb-8 border border-white/20\">\r\n            <h2 className=\"text-2xl font-bold text-white mb-6\">Processing Progress</h2>\r\n            <div className=\"w-full bg-gray-700 rounded-full h-4 mb-4\">\r\n              <div \r\n                className=\"bg-gradient-to-r from-orange-500 to-red-500 h-4 rounded-full transition-all duration-300\"\r\n                style={{width: `${progress}%`}}\r\n              ></div>\r\n            </div>\r\n            <p className=\"text-white text-center\">{progress.toFixed(1)}% Complete</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Results */}\r\n        {splits.length > 0 && (\r\n          <div className=\"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20\">\r\n            <h2 className=\"text-2xl font-bold text-white mb-6\">Split Results</h2>\r\n            <div className=\"grid gap-4\">\r\n              {splits.map((split, index) => (\r\n                <div key={index} className=\"flex justify-between items-center bg-black/30 rounded-lg p-4\">\r\n                  <span className=\"text-white font-medium\">Part {index + 1}: {split.file}</span>\r\n                  <button\r\n                    onClick={() => downloadSplit(split.file)}\r\n                    className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors\"\r\n                  >\r\n                    Download\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}